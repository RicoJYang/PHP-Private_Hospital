

DROP DATABASE IF EXISTS HOSPITAL;

CREATE DATABASE HOSPITAL

USE HOSPITAL;

-- Crear tabla USUARIOS
CREATE TABLE IF NOT EXISTS USUARIOS (
	DNI VARCHAR (9) NOT NULL, 
	NOMBRE VARCHAR (20) NOT NULL,
	APELLIDO1 VARCHAR (20) NOT NULL,
	APELLIDO2 VARCHAR (20),
	TELEFONO VARCHAR (9) NOT NULL,
	EMAIL VARCHAR (70) NOT NULL,
	FECHA_NAC DATETIME NOT NULL,
	ADMINISTRADOR BOOLEAN DEFAULT FALSE,
	PRIMARY KEY (DNI)
);
	
-- Crear tabla MEDICOS
CREATE TABLE IF NOT EXISTS MEDICOS (
	CODIGO INTEGER (2) NOT NULL,
	NOMBRE VARCHAR (70) NOT NULL,
	PRIMARY KEY (CODIGO)
);

-- Crear tabla CONSULTAS
CREATE TABLE IF NOT EXISTS CONSULTAS (
	COD_MEDICO INTEGER (2) NOT NULL,
	DNI_PACIENTE VARCHAR (9) NOT NULL,
	HORA_FECHA TIMESTAMP NOT NULL,
	PRIMARY KEY (COD_MEDICO, HORA_FECHA),
	FOREIGN KEY (COD_MEDICO) REFERENCES MEDICOS(CODIGO),
	FOREIGN KEY (DNI_PACIENTE) REFERENCES USUARIOS(DNI)
);

